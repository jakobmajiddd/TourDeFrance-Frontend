<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Opret</title>
  <link rel="stylesheet" href="../css/styleIndex.css">
</head>
<body>

<div class="form-style-5">
  <form>
    <input type="text" id="create-fn" name="field1" placeholder="Din Fornavn">
    <input type="text" id="create-ef" name="field2" placeholder="Din Efternavn">
    <input type="text" id="create-land" name="field2" placeholder="Din Land">
    <input type="text" id="create-a" name="field3" placeholder="Din Alder">
    <input type="text" id="create-bpoint" name="field4" placeholder="Din Bjergpoint">
    <input type="text" id="create-spoint" name="field5" placeholder="Din Spurtpoint">
    <input type="text" id="create-tid" name="field6" placeholder="Din Tid">
    <button class="ddown-hold">VÃ¦lg hold</button>
    <input type="submit" id="btn-gem" value="Gem">
  </form>
</div>


</body>
</html>
<script>
  setupHandlers()

  function gemCykelrytter() {
    const cykelrytterObj = {}
    cykelrytterObj.rytterNavn = document.getElementById("create-fn").value
    cykelrytterObj.rytterEfternavn = document.getElementById("create-ef").value
    cykelrytterObj.rytterAlder = document.getElementById("create-a").value
    cykelrytterObj.rytterTid = document.getElementById("create-tid").value
    cykelrytterObj.bjergPoint = document.getElementById("create-bpoint").value
    cykelrytterObj.spurtPoint = document.getElementById("create-spoint").value
    cykelrytterObj.rytterLand = document.getElementById("create-land").value

    console.log(cykelrytterObj)
    const method = "POST"
    const url = 'http://localhost:8080/opret/cykelrytter';
    const options = {
      method: method,
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(cykelrytterObj)
    }
    fetch(url, options)
      .then(res => {
        if (!res.ok) {
          throw "Fejl, kan ikke oprette cykelrytter"
        }
      })
  }


  function setupHandlers() {
    document.getElementById('btn-gem').onclick = gemCykelrytter;
  }

</script>
